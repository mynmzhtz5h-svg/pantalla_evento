<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Pantalla Evento</title>
<style>
body {
  margin: 0;
  background: black;
  color: white;
  overflow: hidden;
  font-family: system-ui;
}
#escenario {
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
}
img {
  max-width: 90vw;
  max-height: 80vh;
  opacity: 0;
  transition: opacity 1s;
  position: absolute;
}
img.activa {
  opacity: 1;
}
</style>
</head>
<body>

<div id="escenario"></div>

<script>
const cloudName = "craneosuy";
const jsonURL = "https://mynmzhtz5h-svg.github.io/pantalla-evento/fotos.json";

let fotos = [];
let index = 0;

async function cargarFotos() {
  const res = await fetch(jsonURL + "?t=" + Date.now());
  fotos = await res.json();
}

function mostrar() {
  if (!fotos.length) return;

  const f = fotos[index];
  const img = document.createElement("img");

  img.src = `https://res.cloudinary.com/${cloudName}/image/upload/${f.public_id}`;
  img.classList.add("activa");

  const esc = document.getElementById("escenario");
  esc.innerHTML = "";
  esc.appendChild(img);

  index = (index + 1) % fotos.length;
}

async function loop() {
  await cargarFotos();
  mostrar();
  setTimeout(loop, 5000);
}

loop();
</script>

</body>
</html>
