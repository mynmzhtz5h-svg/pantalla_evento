<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Pantalla Evento</title>
<style>
body {
  margin: 0;
  background: black;
  overflow: hidden;
}
img {
  width: 100vw;
  height: 100vh;
  object-fit: contain;
}
</style>
</head>
<body>

<img id="foto">

<script>
const JSON_URL = "https://res.cloudinary.com/craneosuy/image/list/evento.json";
let fotos = [];
let i = 0;

async function cargarFotos() {
  try {
    const res = await fetch(JSON_URL + "?t=" + Date.now());
    const data = await res.json();
    fotos = data.resources.map(r =>
      `https://res.cloudinary.com/craneosuy/image/upload/${r.public_id}.jpg`
    );
  } catch (e) {
    console.error("Error cargando fotos", e);
  }
}

async function iniciar() {
  await cargarFotos();
  setInterval(() => {
    if (fotos.length === 0) return;
    document.getElementById("foto").src = fotos[i];
    i = (i + 1) % fotos.length;
  }, 3000);

  setInterval(cargarFotos, 5000); // refresco autom√°tico
}

iniciar();
</script>

</body>
</html>
